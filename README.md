# VectorTrader
量化研究。
回测模式下，用户需要配置策略所在路径，策略回测结果保存路径。
模拟模式下，用户需要配置策略所在路径，模拟结果每日更新路径，持久化路径。

# Installation
1. 向site-packages中添加VectorTrader路径文件pth.
2. 安装requirments中的需求
3. 在data_source中的mixed_data_source中根据Readme进行调整。
4. 向系统环境变量中添加mod地址

# 待优化
1. 相关对象的持久化服务
2. 模拟中的阶段性报告
3. 模拟数据源与相关机制
4. 回测效率

# 预计增加功能
1. 分钟级回测、模拟
2. 策略最优化
3. 因子有效性检验
4. 仓位最优化工具

# update log
## 2017-09-12
1. 修复了一些bug
2. 增加了wind函数get_stocks_factors

## 2017-09-11
1. 增加回测报告统计指标，在策略仓库中添加了回测结果分析函数
2. 增加了策略编写手册辅助策略编写

## 2017-09-08
1. 从回测/模拟系统中抽离出策略管理系统为一个单独的仓库，从而实现策略管理与平台开发降低耦合。
2. 增加针对万德按年获取一致预测数据的函数。

## 2017-09-07
1. 增加parse_config工具，支持在config中的universe参数通过简单的设定'A'选取全A股等类似功能('A-st','sz50','hs300'等)
2. 增加接入Wind股票因子、行业因子的函数。增加获取股票因子以及对应行业因子的函数。

## 2017-09-06
1. 更改回测与模拟的撮合机制
2. 增加发送email到邮箱的mod,模拟模式下，需要在before_trading函数中通过context定义需要传递的信息

## 2017-09-05
1. get_symbols现在基于tushare支持当前多种成分股
2. 解决模拟中无法剔除停牌股票的问题

## 2017-09-04
1. 增加了持久化服务提供对象DiskPersistProvider和PersistHelper
2. 给context,account,position,analyser加入了持久化方法
3. 运行了buy_and_hold策略模拟,可以运行，但是有问题

## 2017-09-01
1. 更真实的回测(不复权数据 + 分红送股 + 配股;动态股票池，每日自动剔除未上市、停牌、退市股票)
2. 修改了回测取数据的方法，不再采用bar数据结构，不再采用history_bar对象，其功能整合到context中。

## 2017-08-31
1. 增加了一些国信本地数据接口(分红送转，停牌，上市退市，配股转配股)
2. get_history支持分钟线数据

## 2017-08-29
1. 美化资金曲线的输出
2. 增加T+1交易机制
3. 优化撮合机制以及手续费
4. 增加订单记录

## 2017-08-28
1. 在modlue中增加了Calendar，提供日期滑动的功能(目前支持19910101到回测截止日期的滑动)
2. 在core中添加HistoryBars负责提供回测中的可得历史行情数据。
3. 在utils中添加convertor,提供bar与dataframe的转换
4. 修改dataproxy准备回测数据的逻辑，将通过时间取数据改成用生成器产生对应数据(重要改动)
5. get_bar仅能通过bar_map调用,所以api中的下单函数采用data_proxy的新增函数get_price获取对应的价格数据
6. 通过5日均线与30日均线策略的测试
7. 在analyser中增加了收益率统计、保存、展示功能(对应修改了main)
8. account更新的触发事件，改为POST_BAR

## 2017-08-25
1. 建立了部分基于Wind的数据库(不能正常使用)
2. 建立了基于本地数据库的数据接口(基于matlab引擎)，未测试
3. 建立最新混合数据源(MixedDataSource)，该数据源以本地数据库为基础，结合tushare,wind等数据接口，功能强大，通过buy_and_hold策略测试。
4. 更改默认数据源为混合数据源。
5. 增加了一些数据接口相关的工具函数(wind_utils,matlab_utils,tushare_utils,utils等)。
6. 增加更多相关数据代理函数。

## 2017-08-23
1. 加入进度条mod，在cmd模式下可以正常运行
2. 加入了模拟交易mod,功能尚未测试
3. 优化了mod管理

## 2017-08-22
程序成功运行单只股票buy_and_hold策略。

# Issue
## Issue 01(解决)
1. 当股票池为2017新股的时候，仍然在2014年有交易不成功的记录
2. 在不符合交易逻辑的情况下进行了买入
3. 做的图是一个白图，里面什么都没有
